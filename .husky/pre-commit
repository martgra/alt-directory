#!/usr/bin/env sh

# Run secret detection
echo "ğŸ” Scanning for secrets..."
bun run secretlint "**/*"

# Run lint-staged
bun run lint-staged --allow-empty

# Prevent commit if lint-staged made changes
git diff --exit-code || (echo "âŒ lint-staged made changes. Please review, stage, and commit again." && exit 1)
